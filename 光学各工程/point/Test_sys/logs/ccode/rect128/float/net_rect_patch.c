#include"net.h"
#include"net_rect_patch.h"
#include"layer.h"
#include"parameters_float_rect_patch.h"
Extractor* net_ex_init(){
  int layer_count = 76;
  Layer** layers = (Layer**)malloc(layer_count * sizeof(Layer*));
  for (int i = 0;i < layer_count; i++)
      layers[i] = (Layer*)malloc(sizeof(Layer));
  int blob_count = 77;
  Blob* blobs = (Blob*)malloc(blob_count * sizeof(Blob));
  DEFINE_LAYER(layers[0],Conv,conv1x1s1_forward,NULL,1,0,0,list(0,),1,list(1,),1,list(param_rect_patch+0,param_rect_patch+8,8,8,3177,10734,NULL,NULL,1));
  DEFINE_LAYER(layers[1],bool,NULL,hardswish_forward_inplace,1,1,1,list(1,),1,list(2,),1,list(0));
  DEFINE_LAYER(layers[2],Padding,padding_forward,NULL,1,0,2,list(2,),1,list(3,),1,list(1,1,0,0));
  DEFINE_LAYER(layers[3],Conv,convdw3x3s2_forward,NULL,1,0,3,list(3,),1,list(4,),1,list(param_rect_patch+16,param_rect_patch+88,72,8,242,12877,NULL,NULL,8));
  DEFINE_LAYER(layers[4],bool,NULL,hardswish_forward_inplace,1,1,4,list(4,),1,list(5,),1,list(0));
  DEFINE_LAYER(layers[5],Conv,conv1x1s1_forward,NULL,1,0,5,list(5,),1,list(6,),1,list(param_rect_patch+96,param_rect_patch+160,64,8,17153,9503,NULL,NULL,1));
  DEFINE_LAYER(layers[6],bool,adaptive_avg_pool2d_forward,NULL,1,0,6,list(6,),1,list(7,),1,list(0));
  DEFINE_LAYER(layers[7],Conv,conv1x1s1_forward,NULL,1,0,7,list(7,),1,list(8,),1,list(param_rect_patch+168,param_rect_patch+184,16,2,5356,2409,NULL,NULL,1));
  DEFINE_LAYER(layers[8],bool,NULL,relu_forward_inplace,1,1,8,list(8,),1,list(9,),1,list(0));
  DEFINE_LAYER(layers[9],Conv,conv1x1s1_forward,NULL,1,0,9,list(9,),1,list(10,),1,list(param_rect_patch+186,param_rect_patch+202,16,8,17185,9156,NULL,NULL,1));
  DEFINE_LAYER(layers[10],bool,NULL,hardsigmoid_forward_inplace,1,1,10,list(10,),1,list(11,),1,list(0));
  DEFINE_LAYER(layers[11],bool,NULL,mul_forward_inplace,0,1,11,list(6, 11),2,list(12,),1,list(0));
  DEFINE_LAYER(layers[12],Conv,conv1x1s1_forward,NULL,1,0,12,list(12,),1,list(13,),1,list(param_rect_patch+210,param_rect_patch+338,128,16,23616,22445,NULL,NULL,1));
  DEFINE_LAYER(layers[13],bool,NULL,hardswish_forward_inplace,1,1,13,list(13,),1,list(14,),1,list(0));
  DEFINE_LAYER(layers[14],Padding,padding_forward,NULL,1,0,14,list(14,),1,list(15,),1,list(1,1,0,0));
  DEFINE_LAYER(layers[15],Conv,convdw3x3s2_forward,NULL,1,0,15,list(15,),1,list(16,),1,list(param_rect_patch+354,param_rect_patch+498,144,16,817,11676,NULL,NULL,16));
  DEFINE_LAYER(layers[16],bool,NULL,hardswish_forward_inplace,1,1,16,list(16,),1,list(17,),1,list(0));
  DEFINE_LAYER(layers[17],Conv,conv1x1s1_forward,NULL,1,0,17,list(17,),1,list(18,),1,list(param_rect_patch+514,param_rect_patch+770,256,16,12615,5602,NULL,NULL,1));
  DEFINE_LAYER(layers[18],bool,adaptive_avg_pool2d_forward,NULL,1,0,18,list(18,),1,list(19,),1,list(0));
  DEFINE_LAYER(layers[19],Conv,conv1x1s1_forward,NULL,1,0,19,list(19,),1,list(20,),1,list(param_rect_patch+786,param_rect_patch+850,64,4,8960,5362,NULL,NULL,1));
  DEFINE_LAYER(layers[20],bool,NULL,relu_forward_inplace,1,1,20,list(20,),1,list(21,),1,list(0));
  DEFINE_LAYER(layers[21],Conv,conv1x1s1_forward,NULL,1,0,21,list(21,),1,list(22,),1,list(param_rect_patch+854,param_rect_patch+918,64,16,25003,29725,NULL,NULL,1));
  DEFINE_LAYER(layers[22],bool,NULL,hardsigmoid_forward_inplace,1,1,22,list(22,),1,list(23,),1,list(0));
  DEFINE_LAYER(layers[23],bool,NULL,mul_forward_inplace,0,1,23,list(18, 23),2,list(24,),1,list(0));
  DEFINE_LAYER(layers[24],Conv,conv1x1s1_forward,NULL,1,0,24,list(24,),1,list(25,),1,list(param_rect_patch+934,param_rect_patch+1190,256,16,10587,9027,NULL,NULL,1));
  DEFINE_LAYER(layers[25],bool,NULL,hardswish_forward_inplace,1,1,25,list(25,),1,list(26,),1,list(0));
  DEFINE_LAYER(layers[26],Padding,padding_forward,NULL,1,0,26,list(26,),1,list(27,),1,list(1,1,0,0));
  DEFINE_LAYER(layers[27],Conv,convdw3x3s1_forward,NULL,1,0,27,list(27,),1,list(28,),1,list(param_rect_patch+1206,param_rect_patch+1350,144,16,608,8111,NULL,NULL,16));
  DEFINE_LAYER(layers[28],bool,NULL,hardswish_forward_inplace,1,1,28,list(28,),1,list(29,),1,list(0));
  DEFINE_LAYER(layers[29],Conv,conv1x1s1_forward,NULL,1,0,29,list(29,),1,list(30,),1,list(param_rect_patch+1366,param_rect_patch+1622,256,16,18698,7165,NULL,NULL,1));
  DEFINE_LAYER(layers[30],bool,adaptive_avg_pool2d_forward,NULL,1,0,30,list(30,),1,list(31,),1,list(0));
  DEFINE_LAYER(layers[31],Conv,conv1x1s1_forward,NULL,1,0,31,list(31,),1,list(32,),1,list(param_rect_patch+1638,param_rect_patch+1702,64,4,8764,7695,NULL,NULL,1));
  DEFINE_LAYER(layers[32],bool,NULL,relu_forward_inplace,1,1,32,list(32,),1,list(33,),1,list(0));
  DEFINE_LAYER(layers[33],Conv,conv1x1s1_forward,NULL,1,0,33,list(33,),1,list(34,),1,list(param_rect_patch+1706,param_rect_patch+1770,64,16,9248,10414,NULL,NULL,1));
  DEFINE_LAYER(layers[34],bool,NULL,hardsigmoid_forward_inplace,1,1,34,list(34,),1,list(35,),1,list(0));
  DEFINE_LAYER(layers[35],bool,NULL,mul_forward_inplace,0,1,35,list(30, 35),2,list(36,),1,list(0));
  DEFINE_LAYER(layers[36],bool,NULL,add_forward_inplace,0,1,36,list(24, 36),2,list(37,),1,list(0));
  DEFINE_LAYER(layers[37],Conv,conv1x1s1_forward,NULL,1,0,37,list(37,),1,list(38,),1,list(param_rect_patch+1786,param_rect_patch+2042,256,16,20448,5779,NULL,NULL,1));
  DEFINE_LAYER(layers[38],bool,NULL,hardswish_forward_inplace,1,1,38,list(38,),1,list(39,),1,list(0));
  DEFINE_LAYER(layers[39],Padding,padding_forward,NULL,1,0,39,list(39,),1,list(40,),1,list(1,1,0,0));
  DEFINE_LAYER(layers[40],Conv,convdw3x3s1_forward,NULL,1,0,40,list(40,),1,list(41,),1,list(param_rect_patch+2058,param_rect_patch+2202,144,16,2224,8098,NULL,NULL,16));
  DEFINE_LAYER(layers[41],bool,NULL,hardswish_forward_inplace,1,1,41,list(41,),1,list(42,),1,list(0));
  DEFINE_LAYER(layers[42],Conv,conv1x1s1_forward,NULL,1,0,42,list(42,),1,list(43,),1,list(param_rect_patch+2218,param_rect_patch+2474,256,16,13515,5273,NULL,NULL,1));
  DEFINE_LAYER(layers[43],bool,adaptive_avg_pool2d_forward,NULL,1,0,43,list(43,),1,list(44,),1,list(0));
  DEFINE_LAYER(layers[44],Conv,conv1x1s1_forward,NULL,1,0,44,list(44,),1,list(45,),1,list(param_rect_patch+2490,param_rect_patch+2554,64,4,19747,5208,NULL,NULL,1));
  DEFINE_LAYER(layers[45],bool,NULL,relu_forward_inplace,1,1,45,list(45,),1,list(46,),1,list(0));
  DEFINE_LAYER(layers[46],Conv,conv1x1s1_forward,NULL,1,0,46,list(46,),1,list(47,),1,list(param_rect_patch+2558,param_rect_patch+2622,64,16,71002,16691,NULL,NULL,1));
  DEFINE_LAYER(layers[47],bool,NULL,hardsigmoid_forward_inplace,1,1,47,list(47,),1,list(48,),1,list(0));
  DEFINE_LAYER(layers[48],bool,NULL,mul_forward_inplace,0,1,48,list(43, 48),2,list(49,),1,list(0));
  DEFINE_LAYER(layers[49],bool,NULL,add_forward_inplace,0,1,49,list(37, 49),2,list(50,),1,list(0));
  DEFINE_LAYER(layers[50],Conv,conv1x1s1_forward,NULL,1,0,50,list(50,),1,list(51,),1,list(param_rect_patch+2638,param_rect_patch+2894,256,16,15666,7694,NULL,NULL,1));
  DEFINE_LAYER(layers[51],bool,NULL,hardswish_forward_inplace,1,1,51,list(51,),1,list(52,),1,list(0));
  DEFINE_LAYER(layers[52],Padding,padding_forward,NULL,1,0,52,list(52,),1,list(53,),1,list(1,1,0,0));
  DEFINE_LAYER(layers[53],Conv,convdw3x3s1_forward,NULL,1,0,53,list(53,),1,list(54,),1,list(param_rect_patch+2910,param_rect_patch+3054,144,16,1205,13130,NULL,NULL,16));
  DEFINE_LAYER(layers[54],bool,NULL,hardswish_forward_inplace,1,1,54,list(54,),1,list(55,),1,list(0));
  DEFINE_LAYER(layers[55],Conv,conv1x1s1_forward,NULL,1,0,55,list(55,),1,list(56,),1,list(param_rect_patch+3070,param_rect_patch+3326,256,16,7731,4255,NULL,NULL,1));
  DEFINE_LAYER(layers[56],bool,adaptive_avg_pool2d_forward,NULL,1,0,56,list(56,),1,list(57,),1,list(0));
  DEFINE_LAYER(layers[57],Conv,conv1x1s1_forward,NULL,1,0,57,list(57,),1,list(58,),1,list(param_rect_patch+3342,param_rect_patch+3406,64,4,11469,8648,NULL,NULL,1));
  DEFINE_LAYER(layers[58],bool,NULL,relu_forward_inplace,1,1,58,list(58,),1,list(59,),1,list(0));
  DEFINE_LAYER(layers[59],Conv,conv1x1s1_forward,NULL,1,0,59,list(59,),1,list(60,),1,list(param_rect_patch+3410,param_rect_patch+3474,64,16,24511,13845,NULL,NULL,1));
  DEFINE_LAYER(layers[60],bool,NULL,hardsigmoid_forward_inplace,1,1,60,list(60,),1,list(61,),1,list(0));
  DEFINE_LAYER(layers[61],bool,NULL,mul_forward_inplace,0,1,61,list(56, 61),2,list(62,),1,list(0));
  DEFINE_LAYER(layers[62],bool,NULL,add_forward_inplace,0,1,62,list(50, 62),2,list(63,),1,list(0));
  DEFINE_LAYER(layers[63],Conv,conv1x1s1_forward,NULL,1,0,63,list(63,),1,list(64,),1,list(param_rect_patch+3490,param_rect_patch+4002,512,32,21858,3794,NULL,NULL,1));
  DEFINE_LAYER(layers[64],bool,NULL,hardswish_forward_inplace,1,1,64,list(64,),1,list(65,),1,list(0));
  DEFINE_LAYER(layers[65],Padding,padding_forward,NULL,1,0,65,list(65,),1,list(66,),1,list(1,1,0,0));
  DEFINE_LAYER(layers[66],Conv,convdw3x3s1_forward,NULL,1,0,66,list(66,),1,list(67,),1,list(param_rect_patch+4034,param_rect_patch+4322,288,32,158,6079,NULL,NULL,32));
  DEFINE_LAYER(layers[67],bool,NULL,hardswish_forward_inplace,1,1,67,list(67,),1,list(68,),1,list(0));
  DEFINE_LAYER(layers[68],Conv,conv1x1s1_forward,NULL,1,0,68,list(68,),1,list(69,),1,list(param_rect_patch+4354,param_rect_patch+5378,1024,32,7467,2373,NULL,NULL,1));
  DEFINE_LAYER(layers[69],bool,adaptive_avg_pool2d_forward,NULL,1,0,69,list(69,),1,list(70,),1,list(0));
  DEFINE_LAYER(layers[70],Conv,conv1x1s1_forward,NULL,1,0,70,list(70,),1,list(71,),1,list(param_rect_patch+5410,param_rect_patch+5666,256,8,60680,7390,NULL,NULL,1));
  DEFINE_LAYER(layers[71],bool,NULL,relu_forward_inplace,1,1,71,list(71,),1,list(72,),1,list(0));
  DEFINE_LAYER(layers[72],Conv,conv1x1s1_forward,NULL,1,0,72,list(72,),1,list(73,),1,list(param_rect_patch+5674,param_rect_patch+5930,256,32,6832,2328,NULL,NULL,1));
  DEFINE_LAYER(layers[73],bool,NULL,hardsigmoid_forward_inplace,1,1,73,list(73,),1,list(74,),1,list(0));
  DEFINE_LAYER(layers[74],bool,NULL,mul_forward_inplace,0,1,74,list(69, 74),2,list(75,),1,list(0));
  DEFINE_LAYER(layers[75],Conv,conv1x1s1_forward,NULL,1,0,75,list(75,),1,list(76,),1,list(param_rect_patch+5962,param_rect_patch+6218,256,8,23606,50328,NULL,NULL,1));
  DEFINE_BLOB(&blobs[0],0,list(0,),list(NULL,1,16,16,256,0,4,0,0));
  DEFINE_BLOB(&blobs[1],0,list(1,),list(NULL,8,16,16,256,0,4,0,0));
  DEFINE_BLOB(&blobs[2],1,list(2,),list(NULL,8,16,16,256,0,4,0,0));
  DEFINE_BLOB(&blobs[3],2,list(3,),list(NULL,8,18,18,336,0,4,0,0));
  DEFINE_BLOB(&blobs[4],3,list(4,),list(NULL,8,8,8,64,0,4,0,0));
  DEFINE_BLOB(&blobs[5],4,list(5,),list(NULL,8,8,8,64,0,4,0,0));
  DEFINE_BLOB(&blobs[6],5,list(6, 11),list(NULL,8,8,8,64,0,4,0,0));
  DEFINE_BLOB(&blobs[7],6,list(7,),list(NULL,8,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[8],7,list(8,),list(NULL,2,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[9],8,list(9,),list(NULL,2,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[10],9,list(10,),list(NULL,8,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[11],10,list(11,),list(NULL,8,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[12],11,list(12,),list(NULL,8,8,8,64,0,4,0,0));
  DEFINE_BLOB(&blobs[13],12,list(13,),list(NULL,16,8,8,64,0,4,0,0));
  DEFINE_BLOB(&blobs[14],13,list(14,),list(NULL,16,8,8,64,0,4,0,0));
  DEFINE_BLOB(&blobs[15],14,list(15,),list(NULL,16,10,10,112,0,4,0,0));
  DEFINE_BLOB(&blobs[16],15,list(16,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[17],16,list(17,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[18],17,list(18, 23),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[19],18,list(19,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[20],19,list(20,),list(NULL,4,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[21],20,list(21,),list(NULL,4,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[22],21,list(22,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[23],22,list(23,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[24],23,list(24, 36),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[25],24,list(25,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[26],25,list(26,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[27],26,list(27,),list(NULL,16,6,6,48,0,4,0,0));
  DEFINE_BLOB(&blobs[28],27,list(28,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[29],28,list(29,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[30],29,list(30, 35),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[31],30,list(31,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[32],31,list(32,),list(NULL,4,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[33],32,list(33,),list(NULL,4,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[34],33,list(34,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[35],34,list(35,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[36],35,list(36,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[37],36,list(37, 49),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[38],37,list(38,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[39],38,list(39,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[40],39,list(40,),list(NULL,16,6,6,48,0,4,0,0));
  DEFINE_BLOB(&blobs[41],40,list(41,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[42],41,list(42,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[43],42,list(43, 48),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[44],43,list(44,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[45],44,list(45,),list(NULL,4,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[46],45,list(46,),list(NULL,4,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[47],46,list(47,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[48],47,list(48,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[49],48,list(49,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[50],49,list(50, 62),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[51],50,list(51,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[52],51,list(52,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[53],52,list(53,),list(NULL,16,6,6,48,0,4,0,0));
  DEFINE_BLOB(&blobs[54],53,list(54,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[55],54,list(55,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[56],55,list(56, 61),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[57],56,list(57,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[58],57,list(58,),list(NULL,4,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[59],58,list(59,),list(NULL,4,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[60],59,list(60,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[61],60,list(61,),list(NULL,16,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[62],61,list(62,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[63],62,list(63,),list(NULL,16,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[64],63,list(64,),list(NULL,32,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[65],64,list(65,),list(NULL,32,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[66],65,list(66,),list(NULL,32,6,6,48,0,4,0,0));
  DEFINE_BLOB(&blobs[67],66,list(67,),list(NULL,32,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[68],67,list(68,),list(NULL,32,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[69],68,list(69, 74),list(NULL,32,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[70],69,list(70,),list(NULL,32,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[71],70,list(71,),list(NULL,8,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[72],71,list(72,),list(NULL,8,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[73],72,list(73,),list(NULL,32,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[74],73,list(74,),list(NULL,32,1,1,16,0,4,0,0));
  DEFINE_BLOB(&blobs[75],74,list(75,),list(NULL,32,4,4,16,0,4,0,0));
  DEFINE_BLOB(&blobs[76],75,list(0,),list(NULL,8,4,4,16,0,4,0,0));
  Option opt = { 1,0,0,0,NULL };
  Net _net = { forward_layer, opt, layers, blobs, layer_count , blob_count};
  Net* net = (Net*)malloc(sizeof(Net));
  *net = _net;
  Extractor* ex = (Extractor*)malloc(sizeof(Extractor));
  extractor(ex, net, net->blob_count);
  return ex;
}
int detect_rect_patch(const Mat bgr, Mat *out)
{
#if NCNN_VULKAN
  mobilenet.opt.use_vulkan_compute = true;
#endif // NCNN_VULKAN
  Extractor* ex = net_ex_init();
  Mat in = bgr;
  ex->input(ex, 0, in);
  ex->extract(ex, 76, out);
  return 0;
}
